<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Gold Clicker - Mobile Only</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { 
            background: #000; 
            color: #fff; 
            font-family: sans-serif; 
            margin: 0; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            height: 100vh; 
            overflow: hidden; 
        }

        /* ××¡×š ×—×¡×™××” ×œ××—×©×‘ */
        #desktop-blocker {
            display: none; /* ××•×¡×ª×¨ ×›×‘×¨×™×¨×ª ××—×“×œ */
            text-align: center;
            padding: 20px;
            z-index: 9999;
        }

        #desktop-blocker h1 { color: #ffd700; }
        #desktop-blocker .icon { font-size: 80px; margin-bottom: 20px; }

        /* ×”×¦×’×ª ×”×—×¡×™××” ×¨×§ ×‘××¡×›×™× ×¨×—×‘×™× (××—×©×‘) */
        @media style and (min-width: 769px) {
            #desktop-blocker { display: block; }
            #game-ui { display: none; }
        }

        /* ×¢×™×¦×•×‘ ×”××©×—×§ ×œ× ×™×™×“ */
        #game-ui {
            width: 100%;
            max-width: 480px;
            height: 100vh;
            background: radial-gradient(circle at center, #1a1a1a 0%, #000 100%);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 20px;
            box-sizing: border-box;
        }

        .score-val { font-size: 50px; font-weight: bold; color: #ffd700; text-align: center; margin-top: 30px; }
        .coin-section { flex-grow: 1; display: flex; justify-content: center; align-items: center; }
        #coin { width: 80%; max-width: 280px; aspect-ratio: 1/1; cursor: pointer; transition: transform 0.05s; }
        #coin:active { transform: scale(0.92); }
        .footer { padding-bottom: 30px; }
        .bar-bg { width: 100%; height: 12px; background: #333; border-radius: 10px; overflow: hidden; margin-top: 10px; }
        #energy-bar { height: 100%; width: 100%; background: orange; transition: width 0.2s; }
    </style>
</head>
<body>

    <div id="desktop-blocker">
        <div class="icon">ğŸ“±</div>
        <h1>×”××©×—×§ ×–××™×Ÿ ×‘× ×™×™×“ ×‘×œ×‘×“</h1>
        <p>×›×“×™ ×œ×©×—×§ ×‘-Gold Clicker, ×× × ×¤×ª×— ××ª ×”×‘×•×˜ ×“×¨×š ××¤×œ×™×§×¦×™×™×ª ×˜×œ×’×¨× ×‘×˜×œ×¤×•×Ÿ ×”× ×™×™×“ ×©×œ×š.</p>
    </div>

    <div id="game-ui">
        <div class="score-val" id="score">0</div>
        
        <div class="coin-section">
            <img id="coin" src="https://upload.wikimedia.org/wikipedia/commons/d/d6/Gold_coin_icon.png" alt="Coin">
        </div>

        <div class="footer">
            <div style="display: flex; justify-content: space-between; font-size: 14px;">
                <span>âš¡ Energy</span>
                <span><span id="energy-text">1000</span>/1000</span>
            </div>
            <div class="bar-bg"><div id="energy-bar"></div></div>
        </div>
    </div>

    <script>
        let score = parseInt(localStorage.getItem('score')) || 0;
        let energy = parseInt(localStorage.getItem('energy')) || 1000;
        const tg = window.Telegram.WebApp;
        tg.expand();

        function update() {
            document.getElementById('score').innerText = score.toLocaleString();
            document.getElementById('energy-text').innerText = energy;
            document.getElementById('energy-bar').style.width = (energy / 10) + "%";
            localStorage.setItem('score', score);
            localStorage.setItem('energy', energy);
        }

        document.getElementById('coin').addEventListener('touchstart', (e) => {
            e.preventDefault();
            if (energy > 0) {
                score++; energy--; update();
                if (tg.HapticFeedback) tg.HapticFeedback.impactOccurred('medium');
            }
        });

        setInterval(() => { if (energy < 1000) { energy++; update(); } }, 1500);
        update();
    </script>
</body>
</html>
