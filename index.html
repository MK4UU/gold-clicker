<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Gold Clicker</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background: #000; color: #ffd700; font-family: sans-serif; text-align: center; margin: 0; overflow: hidden; touch-action: manipulation; }
        .balance { font-size: 45px; font-weight: bold; margin-top: 40px; }
        #coin { width: 220px; cursor: pointer; transition: transform 0.1s; margin-top: 20px; -webkit-tap-highlight-color: transparent; }
        #coin:active { transform: scale(0.92); }
        .energy-box { width: 80%; height: 12px; background: #333; margin: 40px auto 10px; border-radius: 10px; }
        #energy-bar { height: 100%; width: 100%; background: linear-gradient(90deg, #ffd700, #ff8c00); border-radius: 10px; transition: width 0.2s; }
    </style>
</head>
<body>
    <div class="balance"><span id="score">0</span> GOLD</div>
    <img id="coin" src="https://img.icons8.com/color/512/gold-coin.png" alt="Coin">
    <div class="energy-box"><div id="energy-bar"></div></div>
    <div>âš¡ <span id="energy-text">1000</span> / 1000</div>

    <script>
        let score = parseInt(localStorage.getItem('score')) || 0;
        let energy = parseInt(localStorage.getItem('energy')) || 1000;
        
        function update() {
            document.getElementById('score').innerText = score.toLocaleString();
            document.getElementById('energy-text').innerText = energy;
            document.getElementById('energy-bar').style.width = (energy / 10) + "%";
            localStorage.setItem('score', score);
            localStorage.setItem('energy', energy);
        }

        document.getElementById('coin').addEventListener('touchstart', (e) => {
            e.preventDefault();
            if (energy > 0) {
                score++; energy--; update();
                if (window.Telegram?.WebApp?.HapticFeedback) {
                    window.Telegram.WebApp.HapticFeedback.impactOccurred('light');
                }
            }
        });

        setInterval(() => { if (energy < 1000) { energy++; update(); } }, 1500);
        update();
        window.Telegram.WebApp.expand();
    </script>
</body>
</html>
